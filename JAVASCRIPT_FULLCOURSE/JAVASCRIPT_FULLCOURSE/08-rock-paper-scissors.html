<!DOCTYPE html>

  <html>
    <head>
      <title>Pedra Papel e Tesoura</title>
      <style>
        
      </style>
    </head>

    <body>
      <p>Rock Paper Scissors</p>

      <!-- PEDRA -->
      <button onclick="    
        
        playGame('Rock');

      ">Rock</button>

      <!-- PAPEL -->
      <button onclick="
        
        playGame('Paper');

      ">Paper</button>

      <!-- TESOURA -->
      <button onclick="
        
        playGame('Scissors');
        
      ">Scissors</button>

      <button onclick="
        score.wins = 0;
        score.losses = 0;
        score.ties = 0;  
        localStorage.removeItem('score');    
      ">Reset Score</button>
        

      <script>

        let score = JSON.parse(localStorage.getItem('score')) || {
          wins:0,
          losses:0,
          ties:0
        };

        /*
        if (!score){
          score = {
            wins:0,
            losses:0,
            ties:0
          };
        }
        */

        function pickComputerMove(){
          
          const randomNumber = Math.random();
          let cpuMove = '';
          
          if (randomNumber >= 0 && randomNumber < 1/3){
            cpuMove = 'Rock';
          } else if(randomNumber >= 1/3 && randomNumber < 2/3) {
            cpuMove = 'Paper';
          } else if(randomNumber >= 2/3 && randomNumber < 1){
            cpuMove = 'Scissors';
          }

          return cpuMove;
        }

        function playGame(playerMove){

          const cpuMove = pickComputerMove(); 
          
          let resut = '';

          if (playerMove === 'Scissors'){
            if (cpuMove === 'Rock'){
            result = 'You lose.';
            } else if (cpuMove === 'Paper'){
              result = 'You win.'
            } else if (cpuMove === 'Scissors'){
              result = 'Tie.';
            }
          } else if (playerMove === 'Paper'){
            if (cpuMove === 'Rock'){
              result = 'You win.';
            } else if (cpuMove === 'Paper'){
              result = 'Tie.';
            } else if (cpuMove === 'Scissors'){
              result = 'You lose.';
            }
          } else {
            if (cpuMove === 'Rock'){
              result = 'Tie.';
            } else if (cpuMove === 'Paper'){
              result = 'You lose.';
            } else if (cpuMove === 'Scissors'){
              result = 'You win.';
            }
          }

          if (result === 'You win.'){
            score.wins ++;            
          } else if (result === 'You lose.'){
            score.losses ++;
          } else if (result === 'Tie.'){
            score.ties ++;
          }

          localStorage.setItem('score', JSON.stringify(score));
          
          alert(`You picked ${playerMove}. Computer picked ${cpuMove}. ${result}
Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`);

          return;

        }
        
      </script>
    </body>
  </html>